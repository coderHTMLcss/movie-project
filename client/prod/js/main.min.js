!function i(n,s,r){function o(t,e){if(!s[t]){if(!n[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}a=s[t]={exports:{}},n[t][0].call(a.exports,function(e){return o(n[t][1][e]||e)},a,a.exports,i,n,s,r)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)o(r[e]);return o}({1:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=(e=e("../../utils/CreateElement"))&&e.__esModule?e:{default:e};a.default=class{constructor(e,t){this.movies=e,this.parent=t;var{title:e,images:t,year:a,genre:i}=this.movies;this.title=e,this.images=t?.url||"./img/movie_picture/moonfall.png",this.year=a?.textContent||"2022 ",this.genre=i?.textContent||" Action comedy"}render(){var e=new r.default("li",{className:"movie__item"}).render(),t=new r.default("picture",{className:"movie__img-container"}).render(),a=new r.default("img",{className:"movie__img",src:this.images}).render(),a=(t.append(a),new r.default("div",{className:"movie__bottom"}).render()),i=new r.default("h4",{className:"movie__title",textContent:this.title}).render(),n=new r.default("p",{className:"movie__description",textContent:this.year}).render(),s=new r.default("span",{textContent:"|"+this.genre}).render();n.append(s),a.append(i,n),e.append(t,a),this.parent.append(e)}}},{"../../utils/CreateElement":10}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(e("../../utils/CreateElement.js")),i=e("../../constans/root.js"),l=n(e("../../utils/Api.js"));function n(e){return e&&e.__esModule?e:{default:e}}a.default=class{constructor(e){this.parent=e}renderFormLogin(e){const t=new o.default("form",{className:"form-login active",dataset:{body:"login"}}).render();t.addEventListener("submit",this.handleSubmit.bind(this,e)),i.FIELDS_DATA_LOGIN.forEach(e=>{e=new o.default("input",e);t.append(e.render())}),this.parent.append(t)}renderFormRegistr(e){const t=new o.default("form",{className:"form-register",dataset:{body:"register"}}).render();t.addEventListener("submit",this.handleSubmit.bind(this,e)),i.FIELDS_DATA_REGISTER.forEach(e=>{e=new o.default("input",e);t.append(e.render())}),this.parent.append(t)}async handleSubmit(e,t){t.preventDefault();const a={};t.currentTarget.querySelectorAll(".form-field").forEach(e=>{a[e.name]=e.value});var i=await new l.default("http://localhost:8080/api/auth/").postRequest(e,a);switch(e){case"signup":if("Такой email уже существует"===i.statusText){const s=new o.default("span",{className:"error-register",textContent:i.statusText+" !"}).render();document.querySelector(".form-register").insertAdjacentElement("afterbegin",s),setTimeout(()=>{s.remove()},1e3)}else"Thanks for registering."===i.statusText&&setTimeout(()=>{window.location.href="./home.html"},500);break;case"signin":if(i.message){const r=new o.default("span",{className:"error-login",textContent:i.message}).render();document.querySelector(".form-login").insertAdjacentElement("afterbegin",r),setTimeout(()=>{r.remove()},1e3)}else{var n={id:i.data._id,fullName:i.data.fullName};sessionStorage.setItem("userData",JSON.stringify(n)),setTimeout(()=>{window.location.href="./home.html"},500)}}}}},{"../../constans/root.js":7,"../../utils/Api.js":9,"../../utils/CreateElement.js":10}],3:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;(e=e("../Form/Form"))&&e.__esModule;a.default=class{render(e){const t=document.querySelector(".modal");e.addEventListener("click",()=>{t.classList.add("active"),document.querySelector(".modal").addEventListener("click",e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal-close"))&&t.classList.remove("active")})})}}},{"../Form/Form":2}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;class i{constructor(e){this.imageList=document.querySelector(".movie__list"),this.slideButtons=document.querySelectorAll(".slide-button"),this.slideCount=e,this.maxScrollLeft=this.imageList.scrollWidth-this.imageList.clientWidth,this.init()}initSlider(){this.slideButtons.forEach(t=>{t.addEventListener("click",()=>{var e="prev-slide"===t.id?-1:1,e=this.imageList.clientWidth/this.slideCount*e;this.imageList.scrollBy({left:e,behavior:"smooth"})})})}handleSlideButtons(){this.slideButtons[0].style.display=this.imageList.scrollLeft<=0?"none":"block",this.slideButtons[1].style.display=this.imageList.scrollLeft>=this.maxScrollLeft?"none":"block"}init(){this.imageList.addEventListener("scroll",()=>{this.handleSlideButtons()})}}new(a.default=i)(2).initSlider()},{}],5:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default=class{constructor(e){this.toggleBtn=e}toggleTheme(){this.toggleBtn.addEventListener("click",()=>{this.toggleBtn.classList.toggle("off"),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),this.addDarkClass()})}addDarkClass(){var e=document.querySelector(".sidebar");"dark"===localStorage.getItem("theme")?(document.body.classList.add("dark"),e.classList.add("dark"),this.toggleBtn.classList.add("off")):(document.body.classList.remove("dark"),e.classList.remove("dark"),this.toggleBtn.classList.remove("off"))}}},{}],6:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default=class{constructor(e,t){this.buttonsWrapper=document.querySelector(e),this.content=document.querySelector(t).childNodes,this.toggleTabs()}toggleTabs(){this.buttonsWrapper?this.buttonsWrapper?.addEventListener("click",t=>{[...this.buttonsWrapper.children].forEach(e=>{e.classList.remove("active")}),t.target.classList.add("active"),this.content.forEach(e=>{e.dataset.body===t.target.dataset.head?e.classList.add("active"):e.classList.remove("active")})}):console.log("I didn't find a class")}init(){this.toggleTabs()}}},{}],7:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.switchBody=a.MOVIE_ROOT=a.LOGIN_BTN=a.FIELDS_DATA_REGISTER=a.FIELDS_DATA_LOGIN=void 0;a.switchBody=document.getElementById("switch"),a.LOGIN_BTN=document.querySelector(".button__primary--login"),a.MOVIE_ROOT=document.querySelector(".movie__list"),a.FIELDS_DATA_LOGIN=[{className:"form-field",type:"text",name:"email",placeholder:"Email address",value:"",required:!0},{className:"form-field",type:"password",name:"password",placeholder:"Password",value:"",required:!0},{className:"form-btn",id:"login",type:"submit",name:"submit",value:"Login"}],a.FIELDS_DATA_REGISTER=[{className:"form-field",type:"text",name:"fullName",placeholder:"Enter your nickName",value:"",required:!0},{className:"form-field",type:"password",name:"password",placeholder:"Password",value:"",required:!0},{className:"form-field",type:"email",name:"email",placeholder:"Email address",value:"",required:!0},{className:"form-btn",id:"register",type:"submit",name:"submit",value:"Sign Up"}]},{}],8:[function(e,t,a){"use strict";d(e("./utils/Api"));var i=d(e("./components/Switch/Switch")),n=e("./constans/root"),s=d(e("./components/Modal/Modal")),r=d(e("./components/Form/Form")),o=d(e("./components/Tabs/Tabs")),l=(d(e("./components/Slider/Slider")),d(e("./components/Card/Card")));function d(e){return e&&e.__esModule?e:{default:e}}var e=document.querySelector(".tabs__modal-body");"/"===window.location.pathname&&(e&&((r=new r.default(e)).renderFormLogin("signin"),r.renderFormRegistr("signup")),n.LOGIN_BTN&&(new s.default).render(n.LOGIN_BTN),new o.default(".tabs__modal-head",".tabs__modal-body")),window.addEventListener("DOMContentLoaded",async()=>{var e=JSON.parse(sessionStorage.getItem("userData"));e&&(document.querySelector(".user").textContent=e.fullName)}),n.switchBody&&((e=new i.default(n.switchBody)).toggleTheme(),e.addDarkClass()),(async()=>{[{id:"1",title:"Tokyo Train",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Action comedy",runtime:"2h 38m",rating:"7.9",images:"./img/movie_picture/tokyo.png",trending:!0,continue:!1},{id:2,title:"Moonfall",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Sci-fi",runtime:"1h 16m",rating:"7.2",images:"./img/movie_picture/moonfall.png",trending:!0,continue:!1},{id:3,title:"Life in Paris",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Documentary series",runtime:"1h 24m",rating:"6.8",images:"./img/movie_picture/life-paris.png",trending:!0,continue:!1},{id:4,title:"House of Gucci",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Drama",runtime:"1h 54m",rating:"7.8",images:"./img/movie_picture/house-gucci.png",trending:!0,continue:!1},{id:5,title:"Bullet science",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Action comedy",runtime:"1h 42m",rating:"6.7",images:"./img/movie_picture/bullet-science.png",trending:!0,continue:!1},{id:6,title:"House of Wealth",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Drama",runtime:"2h 38m",rating:"7.8",images:"./img/movie_picture/house-wealth.png",trending:!0,continue:!1},{id:7,title:"Bullet science",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Action comedy",runtime:"1h 42m",rating:"6.7",images:"./img/movie_picture/bullet-science.png",trending:!0,continue:!1},{id:8,title:"Moonfall",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Sci-fi",runtime:"1h 16m",rating:"7.2",images:"./img/movie_picture/moonfall.png",trending:!0,continue:!1},{id:9,title:"Life in Paris",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Documentary series",runtime:"1h 24m",rating:"6.8",images:"./img/movie_picture/life-paris.png",trending:!0,continue:!1},{id:10,title:"Tokyo Train",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Action comedy",runtime:"2h 38m",rating:"7.9",images:"./img/movie_picture/tokyo.png",trending:!0,continue:!1},{id:11,title:"Happy Family",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Drama",runtime:"1h 38m",rating:"6.5",images:"./img/movie_picture/family.png",trending:!1,continue:!0},{id:12,title:"Our Life",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2021",genre:"Action comedy",runtime:"1h 59m",rating:"5.7",images:"./img/movie_picture/life.png",trending:!1,continue:!0},{id:13,Title:"Planet",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2021",genre:"Documentary series",runtime:"1h 11m",rating:"5.7",images:"./img/movie_picture/planet.png",trending:!1,continue:!0},{id:14,title:"Bullet science",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Action comedy",runtime:"1h 42m",rating:"6.7",images:"./img/movie_picture/bullet-science.png",trending:!1,continue:!0},{id:15,title:"Tokyo Train",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Action comedy",runtime:"2h 38m",rating:"7.9",images:"./img/movie_picture/tokyo.png",trending:!1,continue:!0},{id:16,title:"Moonfall",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2022",genre:"Sci-fi",runtime:"1h 16m",rating:"7.2",images:"./img/movie_picture/moonfall.png",trending:!1,continue:!0},{id:17,title:"House of Wealth",description:"The movie follows the lives of a wealthy family, the Johnsons, who appear to have it all: a grand mansion, luxurious cars, and expensive designer clothing. However, behind the facade of their lavish lifestyle, there are deep-seated tensions and secrets that threaten to tear the family apart.",year:"2023",genre:"Drama",runtime:"2h 38m",rating:"7.8",images:"./img/movie_picture/house-wealth.png",trending:!1,continue:!0}].forEach(e=>{!0===e.trending&&new l.default(e,n.MOVIE_ROOT)})})(),(r=document.querySelectorAll(".movie__item"))&&r.forEach(r=>{r.addEventListener("click",()=>{var e=r.querySelector(".movie__title").textContent,t=r.querySelector(".movie__description").textContent,a=r.querySelector(".movie__img").src,i=document.querySelector(".header"),n=document.querySelector(".header-content__title"),s=document.querySelector(".header-content__description");i.style.transition="background-image 1s ease",n.style.transition="all 1s ease",s.style.transition="all 1s ease",i.style.backgroundImage=`url(${a})`,n.textContent=e,s.textContent=t})})},{"./components/Card/Card":1,"./components/Form/Form":2,"./components/Modal/Modal":3,"./components/Slider/Slider":4,"./components/Switch/Switch":5,"./components/Tabs/Tabs":6,"./constans/root":7,"./utils/Api":9}],9:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default=class{constructor(e){this.ROOT_URL=e}async getRequest(e){return(await fetch(this.ROOT_URL+e,{method:"GET",headers:{"X-RapidAPI-Key":"7c100d6800msh864e17c0bf7bfe1p1d852djsn00c671cbea4a","X-RapidAPI-Host":"moviesdatabase.p.rapidapi.com"}})).json()}async postRequest(e,t){t={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async putRequest(e,t){t={method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async patchRequest(e,t){t={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async deleteRequest(e){return(await fetch(this.ROOT_URL+e,{method:"DELETE"})).json()}}},{}],10:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default=class{constructor(e,t){this.tagName=e,this.params=t}render(){var e,t=document.createElement(this.tagName);for(e in this.params)if("dataset"===e)for(var a in this.params[e])t.dataset[a]=this.params[e][a];else t[e]=this.params[e];return t}}},{}]},{},[8]);