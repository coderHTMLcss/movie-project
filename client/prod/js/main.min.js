!function a(o,r,i){function n(t,e){if(!r[t]){if(!o[t]){var s="function"==typeof require&&require;if(!e&&s)return s(t,!0);if(d)return d(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}s=r[t]={exports:{}},o[t][0].call(s.exports,function(e){return n(o[t][1][e]||e)},s,s.exports,a,o,r,i)}return r[t].exports}for(var d="function"==typeof require&&require,e=0;e<i.length;e++)n(i[e]);return n}({1:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(e("../../utils/CreateElement.js")),a=e("../../constans/root.js"),d=o(e("../../utils/Api.js"));function o(e){return e&&e.__esModule?e:{default:e}}s.default=class{constructor(e){this.parent=e}renderFormLogin(e){const t=new n.default("form",{className:"form-login active",dataset:{body:"login"}}).render();t.addEventListener("submit",this.handleSubmit.bind(this,e)),a.FIELDS_DATA_LOGIN.forEach(e=>{e=new n.default("input",e);t.append(e.render())}),this.parent.append(t)}renderFormRegistr(e){const t=new n.default("form",{className:"form-register",dataset:{body:"register"}}).render();t.addEventListener("submit",this.handleSubmit.bind(this,e)),a.FIELDS_DATA_REGISTER.forEach(e=>{e=new n.default("input",e);t.append(e.render())}),this.parent.append(t)}async handleSubmit(e,t){t.preventDefault();const s={};t.currentTarget.querySelectorAll(".form-field").forEach(e=>{s[e.name]=e.value});var a=await new d.default("http://localhost:8080/api/auth/").postRequest(e,s);switch(e){case"signup":if("Такой email уже существует"===a.statusText){const r=new n.default("span",{className:"error-register",textContent:a.statusText+" !"}).render();document.querySelector(".form-register").insertAdjacentElement("afterbegin",r),setTimeout(()=>{r.remove()},1e3)}else"Thanks for registering."===a.statusText&&setTimeout(()=>{window.location.href="./home.html"},500);break;case"signin":if(a.message){const i=new n.default("span",{className:"error-login",textContent:a.message}).render();document.querySelector(".form-login").insertAdjacentElement("afterbegin",i),setTimeout(()=>{i.remove()},1e3)}else{var o={id:a.data._id,fullName:a.data.fullName};sessionStorage.setItem("userData",JSON.stringify(o)),setTimeout(()=>{window.location.href="./home.html"},500)}}}}},{"../../constans/root.js":6,"../../utils/Api.js":8,"../../utils/CreateElement.js":9}],2:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;(e=e("../Form/Form"))&&e.__esModule;s.default=class{render(e){const t=document.querySelector(".modal");e.addEventListener("click",()=>{t.classList.add("active"),document.querySelector(".modal").addEventListener("click",e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal-close"))&&t.classList.remove("active")})})}}},{"../Form/Form":1}],3:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=class{constructor(){this.imageList=document.querySelector(".movie__list"),this.slideButtons=document.querySelectorAll(".slider-wrapper .slide-button"),this.maxScrollLeft=this.imageList.scrollWidth-this.imageList.clientWidth,this.init()}initSlider(){this.slideButtons.forEach(t=>{t.addEventListener("click",()=>{var e="prev-slide"===t.id?-1:1,e=this.imageList.clientWidth*e;this.imageList.scrollBy({left:e,behavior:"smooth"})})})}handleSlideButtons(){this.slideButtons[0].style.display=this.imageList.scrollLeft<=0?"none":"block",this.slideButtons[1].style.display=this.imageList.scrollLeft>=this.maxScrollLeft?"none":"block"}init(){this.imageList.addEventListener("scroll",()=>{this.handleSlideButtons()})}}},{}],4:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=class{constructor(e){this.toggleBtn=e}toggleTheme(){this.toggleBtn.addEventListener("click",()=>{this.toggleBtn.classList.toggle("off"),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),this.addDarkClass()})}addDarkClass(){var e=document.querySelector(".sidebar");"dark"===localStorage.getItem("theme")?(document.body.classList.add("dark"),e.classList.add("dark"),this.toggleBtn.classList.add("off")):(document.body.classList.remove("dark"),e.classList.remove("dark"),this.toggleBtn.classList.remove("off"))}}},{}],5:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=class{constructor(e,t){this.buttonsWrapper=document.querySelector(e),this.content=document.querySelector(t).childNodes,this.toggleTabs()}toggleTabs(){this.buttonsWrapper?this.buttonsWrapper?.addEventListener("click",t=>{[...this.buttonsWrapper.children].forEach(e=>{e.classList.remove("active")}),t.target.classList.add("active"),this.content.forEach(e=>{e.dataset.body===t.target.dataset.head?e.classList.add("active"):e.classList.remove("active")})}):console.log("I didn't find a class")}init(){this.toggleTabs()}}},{}],6:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.switchBody=s.LOGIN_BTN=s.FIELDS_DATA_REGISTER=s.FIELDS_DATA_LOGIN=void 0;s.switchBody=document.getElementById("switch"),s.LOGIN_BTN=document.querySelector(".button__primary--login"),s.FIELDS_DATA_LOGIN=[{className:"form-field",type:"text",name:"email",placeholder:"Email address",value:"",required:!0},{className:"form-field",type:"password",name:"password",placeholder:"Password",value:"",required:!0},{className:"form-btn",id:"login",type:"submit",name:"submit",value:"Login"}],s.FIELDS_DATA_REGISTER=[{className:"form-field",type:"text",name:"fullName",placeholder:"Enter your nickName",value:"",required:!0},{className:"form-field",type:"password",name:"password",placeholder:"Password",value:"",required:!0},{className:"form-field",type:"email",name:"email",placeholder:"Email address",value:"",required:!0},{className:"form-btn",id:"register",type:"submit",name:"submit",value:"Sign Up"}]},{}],7:[function(e,t,s){"use strict";d(e("./utils/Api"));var a=d(e("./components/Switch/Switch")),o=e("./constans/root"),r=d(e("./components/Modal/Modal")),i=d(e("./components/Form/Form")),n=d(e("./components/Tabs/Tabs")),e=d(e("./components/Slider/Slider"));function d(e){return e&&e.__esModule?e:{default:e}}var l=document.querySelector(".tabs__modal-body");"/"===window.location.pathname&&(l&&((i=new i.default(l)).renderFormLogin("signin"),i.renderFormRegistr("signup")),o.LOGIN_BTN&&(new r.default).render(o.LOGIN_BTN),new n.default(".tabs__modal-head",".tabs__modal-body")),window.addEventListener("DOMContentLoaded",async()=>{var e=JSON.parse(sessionStorage.getItem("userData"));e&&(document.querySelector(".user").textContent=e.fullName)}),o.switchBody&&((l=new a.default(o.switchBody)).toggleTheme(),l.addDarkClass()),(new e.default).initSlider()},{"./components/Form/Form":1,"./components/Modal/Modal":2,"./components/Slider/Slider":3,"./components/Switch/Switch":4,"./components/Tabs/Tabs":5,"./constans/root":6,"./utils/Api":8}],8:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=class{constructor(e){this.ROOT_URL=e}async getRequest(e){return(await fetch(this.ROOT_URL+e,{method:"GET",headers:{"X-RapidAPI-Key":"7c100d6800msh864e17c0bf7bfe1p1d852djsn00c671cbea4a","X-RapidAPI-Host":"moviesdatabase.p.rapidapi.com"}})).json()}async postRequest(e,t){t={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async putRequest(e,t){t={method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async patchRequest(e,t){t={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};return(await fetch(this.ROOT_URL+e,t)).json()}async deleteRequest(e){return(await fetch(this.ROOT_URL+e,{method:"DELETE"})).json()}}},{}],9:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=class{constructor(e,t){this.tagName=e,this.params=t}render(){var e,t=document.createElement(this.tagName);for(e in this.params)if("dataset"===e)for(var s in this.params[e])t.dataset[s]=this.params[e][s];else t[e]=this.params[e];return t}}},{}]},{},[7]);